## 目标
- 将底部三卡片合并为单一模块，标题为“操作栏”。
- 右侧“参数调节”和底部“操作栏”均可展开/收起。
- 修复“截图 PNG”导出黑屏问题。

## 现状
- 底部为三列卡片（图片上传、GLB 上传、文字输入），无统一模块（`src/components/UploadPanel.tsx:52-70`）。
- 右侧“参数调节”无折叠状态（`src/components/TunePanel.tsx:32-78`）。
- 截图通过 `document.querySelector('canvas').toDataURL('image/png')`（`src/App.tsx:62-70`），WebGL 默认不保留缓冲，易黑屏。

## 方案
1) 合并底部为“操作栏”模块
- `UploadPanel` 外层新增统一卡片容器，标题“操作栏”，内部为三列功能区域（现有交互保持不变）。
- 保留原拖拽与选择逻辑，仅调整结构与样式为单卡片包裹。

2) 折叠/展开
- 在 `App` 新增状态：`showTunePanel`（右侧）、`showUploadPanel`（底部）。
- 顶部工具栏加入两个按钮：`收起/展开 参数调节`、`收起/展开 操作栏`；通过条件渲染控制显示。

3) 截图修复
- 在 `ParticleScene` 的 `<Canvas>` 增加 `gl={{ preserveDrawingBuffer: true }}`（`src/components/ParticleScene.tsx:410`）。
- `onScreenshot` 包裹 `requestAnimationFrame`，确保获取最新帧；如仍异常，回退从 `renderer.domElement` 读取（选择器一致）。

## 文件改动
- `src/App.tsx`：新增两个显示状态与工具栏按钮；微调 `onScreenshot`。
- `src/components/UploadPanel.tsx`：改为单卡片“操作栏”外层，内部保留三功能区域。
- `src/components/TunePanel.tsx`：无内部折叠逻辑变更，折叠由 `App` 控制显示。
- `src/components/ParticleScene.tsx`：`<Canvas>` 增加 `preserveDrawingBuffer`。

## 验证
- 折叠/展开交互正常，面板隐藏后功能不受影响，重新展开状态持续。
- 截图在随机/文字/图片/GLTF模式下不再黑屏，生成当前画面 PNG。

## 风险与回滚
- 结构变更仅限 UploadPanel 外层包装，现有上传/输入逻辑不变，可随时回退。
- `preserveDrawingBuffer` 对性能影响可控；如 FPS 下降，可后续仅在截图前临时启用。