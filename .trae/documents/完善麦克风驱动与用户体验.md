## 功能目标
- 提供更清晰、可控的“麦克风驱动”体验：开关、灵敏度调节、输入电平可视化、鲁棒的权限与错误处理。

## 代码改动位置
- `src/components/ParticleScene.tsx`：音频输入与粒子驱动逻辑（`getUserMedia`、`AudioContext`、`AnalyserNode`、幅值映射）。
- `src/App.tsx`：麦克风开关的 UI 与状态传递（已有 `micOn`，扩展交互）。
- 可选：`src/components/UploadPanel.tsx`：新增说明/提示入口或帮助链接。

## 实现步骤
1. 音频链路与生命周期
- 在 `ParticleScene.tsx` 中为 `AudioContext` 与 `AnalyserNode` 增加严格的创建/销毁逻辑：`micOn` 开启时创建，关闭时 `close()`/断开节点，避免资源泄漏。
- 当权限拒绝或 `getUserMedia` 抛错时，捕获并向 UI 报告状态，提供回退提示。

2. 幅值计算与去噪
- 对 `analyser.getByteFrequencyData` 的数据做滑动平均与包络平滑，减少抖动。
- 增加噪声门限与“低噪声模式”（忽略环境底噪），并暴露阈值为可配置项。
- 调整 `amp -> 吸引力/爆裂力度` 的映射函数，提供线性/指数两种曲线选项以适配不同场景。

3. 交互与可视化
- 在工具栏或场景角落添加输入电平条（VU meter），实时显示音频能量。
- 增加“灵敏度”滑块与“平滑度”滑块，直接影响分析参数（增益/平滑窗口）。
- 当未授权/不可用时显示醒目的状态气泡与操作指引（如需 HTTPS、本机无麦克风等）。

4. 兼容性与健壮性
- 检查 `navigator.mediaDevices` 与 `AudioContext` 兼容性，给出降级提示。
- 在移动端处理权限与前台激活要求（用户手势后初始化）。
- 防止重复初始化；对 `micOn` 快速切换做节流。

5. 文案与帮助
- 在 `UploadPanel` 或帮助入口添加“麦克风驱动是什么”的简短说明：仅本地分析，不上传或存储音频；需要用户授权；声音会影响粒子效果。

## 验证
- 在开发环境通过不同浏览器/平台验证：授权通过/拒绝、无麦克风、嘈杂环境、安静环境。
- 人工测试灵敏度与去噪设置是否直观有效；观察性能与视觉稳定性。

## 交付项
- 可控的麦克风驱动 UI（开关、灵敏度、VU meter）。
- 健壮的音频链路管理与错误处理。
- 简洁的说明文案与帮助入口。