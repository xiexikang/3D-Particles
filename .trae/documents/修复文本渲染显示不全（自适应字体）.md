## 问题定位
- 固定画布与字体：`ParticleScene.tsx:91-102` 在 512×512 画布上用固定 `bold 300px` 字体绘制文本；当字符串较长（如 3 个汉字/字符）时，文本实际宽度超过画布宽度，超出的部分被画布裁剪，导致“显示不全”。
- 采样流程无异常：后续按步长采样像素生成点云，阈值基于白色文本（`alpha>200 && r>200`），问题核心在绘制阶段的裁剪，而非采样或着色器。

## 修复思路
- 动态字体自适应：在绘制前用 `ctx.measureText(t).width` 评估宽度，循环或二分调整字体像素大小，使其不超过画布宽度的安全边距（如 `size*0.88`）。
- 垂直居中与留白：继续使用 `textAlign='center'`、`textBaseline='middle'`，为上下左右预留 5–10% 边距，保证不同字体的上/下溢出不被裁剪。
- 字体回退与多语言：保留当前中文友好字体回退链：`"Microsoft YaHei", "Noto Sans SC", sans-serif`，确保中文与拉丁字符都可见。
- 安全处理空字符串：对空值直接返回或使用默认占位，避免不必要的采样。

## 具体修改（仅 `setTargetsFromText`）
1. 将固定 `300px` 改为根据测量结果动态计算：
   - 设 `maxW = size * 0.88`，初始 `fontPx = 360`（或依据字符数估计），循环 `fontPx -= 10` 直到 `measureText(t).width <= maxW`，下限如 `48`。
   - 设置最终字体：`ctx.font = \`bold ${fontPx}px ...\`` 再绘制。
2. 可选优化：
   - 对 1–2 个字符适度增大以填充画布，提高视觉占比。
   - 若后续需要保持点数密度一致，可根据有效像素区域动态调整采样步长，但本次不改动步长以保持现有性能与视觉风格。

## 验证标准
- 1–4 个字符（含中文/英文）均完整显示，无左右裁剪；文本水平居中、上下留白合理。
- 典型输入如：`"ABC"`、`"你好啊"`、`"Hi"`、`"测试"` 均能生成完整点云形状。
- 现有着色器与效果模式（如 `rainbow`、`blackhole`）行为不变。

## 预计改动范围
- 仅修改 `src/components/ParticleScene.tsx` 的 `setTargetsFromText` 函数，其他文件不变。